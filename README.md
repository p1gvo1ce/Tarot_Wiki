# Tarot Card Application

**О проекте:**  
Это приложение для работы с колодами Таро, написанное на Python с использованием [Kivy](https://kivy.org/). Проект позволяет создавать и редактировать колоды, просматривать карты, а также выполнять расклады с анализом через GPT.

---

## Фичи проекта
- **Редактирование колод и карт:** добавляйте новые карты, изменяйте описания и прикрепляйте изображения.
- **Просмотр карт:** выбирайте колоду и карту для быстрого просмотра описания и изображения.
- **Выполнение раскладов:** поддержка популярных раскладов с генерацией интерпретаций.
- **Интеграция с GPT:** глубокий анализ карт в раскладе с ироничным оттенком.
- **Автоматическая инициализация базы данных:** приложение самостоятельно создаёт структуру базы.

---

## Требования

- Python 3.7+
- Windows (для корректной работы выбора дисков в интерфейсе)

---

## Установка и запуск

### Первоначальная настройка
1. **Клонируйте репозиторий** или скачайте исходный код.
2. Запустите `setup_and_run.bat` в корне проекта:
   - Создаст виртуальное окружение.
   - Установит зависимости.
   - Запустит приложение.

### Последующие запуски
Для запуска используйте `run_app.bat`:
- Скрипт активирует виртуальное окружение и запускает приложение.
- Если окружение отсутствует, настройка запустится автоматически.

---

## Как настроить `spread_app.py`

### Создание `app_settings.json`
1. Создайте файл `app_settings.json` в корневой директории с содержимым:
   ```json
   {
     "last_dir": "C:\\tarot\\0",
     "api_key": "sk-ваш_токен_из_aitunnel",
     "base_url": "https://api.aitunnel.ru/v1/"
   }
   ```
   - `api_key` — получите на сайте [aitunnel.ru](https://aitunnel.ru/).
   - `last_dir` — опционально, укажите путь к последнему использованному каталогу.

### Настройка токена
- Зарегистрируйтесь на [aitunnel.ru](https://aitunnel.ru/).
- Скопируйте ваш API-ключ и добавьте его в `app_settings.json`.

---

### Запуск `spread_app.py`
Для выполнения раскладов используйте `run_spread.bat`:
1. Дважды щёлкните по `run_spread.bat` или запустите его из командной строки.  
2. Скрипт автоматически активирует виртуальное окружение и запустит приложение `spread_app.py`.
3. Если виртуальное окружение не настроено, выполните `setup_and_run.bat`.

---

## Возможные проблемы

- **Не работает `setup_and_run.bat`:**
  - Проверьте, что Python установлен и добавлен в PATH.
  - Убедитесь, что интернет-соединение активно.
- **Ошибка токена:**
  - Проверьте правильность ключа в `app_settings.json`.

---

## Вклад в проект
Создавайте issues и отправляйте pull requests для улучшения функционала или исправления ошибок.

---

## Лицензия
Проект распространяется под лицензией MIT.